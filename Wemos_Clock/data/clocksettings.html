<!DOCTYPE html>
<html lang="en">
<head>
  <title>Clock Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Wallpoet&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">

</head>
<style>

</style>
<body>
  <!--navagation bar-->
  <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
    <div class="container">
      <a href="index.html" class="navbar-brand">Go to Home Page</a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
      <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navmenu">
    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a href="alarmsettings.html" class="nav-link">Alarm Settings</a>
      </li>
      <li class="nav-item">
        <a href="wifisettings.html" class="nav-link">Wifi Settings</a>
      </li>
      <li class="nav-item">
        <a href="firmware.html" class="nav-link">Firmware Update</a>
      </li>
    </ul>
  </div>
</div>
  </nav>
  <!--showcase-->
  <section class="bg-dark text-light p-1 text-center">
    <div class="container">
      <div class="align-item-center">
        <div>
          <h2><span class="text-warning">Settings Page</span></h2>
          <p class="lead my-1">
          Here you can adjust the brightness<br>
          and Time Settings
          </p>
        </div>
      </div>
    </div>
  </section>
  
  <body>
    <section class="bg-dark text-light text-center">
            <br>
            <div class="data time p-3">
              <div class="reading">
                <span class="material-symbols-outlined">nest_clock_farsight_digital</span>
                <span class="text">NTP Time : </span>
                <span class="text" id="time">%TIME%</span>
                <span class="superscript">
                <span class="text" id="ampm" style="font-size: small;">%AMPM%</span>
                </span>
              </div>
              <div class="data date2 p-3">
                <div class="reading">
                <span class="text">NTP Date : </span>
                <span class="text" id="date">%DATE%</span>
              </div>
              </div>
            </div>
            <div class="data timertc">
              <div class="reading">
                <span class="material-symbols-outlined">nest_clock_farsight_digital</span>
                <span class="text">RTC Time : </span>
                <span class="text" id="timertc">%TIMERTC%</span>
                <span class="superscript">
                  <span class="text" id="ampmRTC" style="font-size: small;">%AMPMRTC%</span>
                </span>
              </div>
              <div class="data datertc p-3">
                <div class="reading">
                <span class="text">RTC Date : </span>
                <span class="text" id="datertc">%DATERTC%</span>
              </div>
              </div>
            </div>
            <br>
            <div class="updatetime">
              <form action="/updatertc">
                <input type="datetime-local" id="datetimeRTC" name="datetimeRTC" onchange="updateUPDRTC(this)"><br><br>
                <input type="submit" value="Update RTC" class="updRTC">
              </form>
            </div>
            <br><br>
            <div class="syncrtc">
              <form action="/syncrtc">
                <input type="submit" value="Sync RTC to NTP" class="sync" id="sync" name="sync">
              </form>
            </div>
            
            <br><br>
            <div class="slidecontainer">
              <input type="range" onchange="updateSliderPWM(this)" min="0" max="255" value="%SILDERVALUE%" class="slider" id="pwmSlider">
              <p>Brightness: <span id="textSliderValue"></span>&percnt;</p>
            </div>
            <br>
            <br>
            <br>
            <div class="pb-lg-5"></div>

            <script>
            function updateSliderPWM(element) {
              var xhr = new XMLHttpRequest();
              var sliderValue = document.getElementById("pwmSlider").value;
              document.getElementById("textSliderValue").innerHTML = sliderValue;
              console.log(sliderValue);
              xhr.open("GET", "/slider?value="+sliderValue, true);
              xhr.send();
            }
            function updateUPDRTC(element) {
              var xhr = new XMLHttpRequest();
              var updRTC = document.getElementById("datetimeRTC").value;
              console.log(updRTC);
              xhr.open("GET", "/updatertc?value="+updRTC, true);
              xhr.send();
            }
            </script>
    </section>
  </body>
      </body>
      <script src="script.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
</html>